<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BetterChoices Election Simulation Explorer</title>

</head>
<body>
<style>
    #outerDiv {
        width: 100vw;
        height: 100vh;
        top: 0px;
        left: 0px;
        position: fixed;
        padding: 0px;
    }
    #visDiv {
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        position: fixed;
        padding: 0px
    }

</style>
<!-- Include Scala.js compiled code -->
<div id="outerDiv">

    <div id="overlayDiv" width="100%" height="100%" x="0" y="0" style="position: relative;">

    </div>

    <div id="visDiv" width="100%" height="100%" x="0" y="0" style="position: relative;">

    </div>
</div>
<script type="text/javascript" src="datastories/target/scala-2.12/scalajs-bundler/main/datastories-fastopt-library.js"></script>
<script type="text/javascript" src="datastories/target/scala-2.12/scalajs-bundler/main/datastories-fastopt-loader.js"></script>
<script type="text/javascript" src="datastories/target/scala-2.12/scalajs-bundler/main/datastories-fastopt.js"></script>
<script>
        function doNothing(s) {
            console.log(s)
        }
        const queryString = window.location.search;
        console.log(queryString);
        const urlParams = new URLSearchParams(queryString);

        if (urlParams.has('section')) {

            const section = Number(urlParams.get('section'));
            var progress = 0;
            if (urlParams.has('progress')) {
                progress = Number(urlParams.get('progress'));
            }
            console.log("Section: ", section, "Progress: ", progress);

            var pds = PolarizationDataStory("visDiv", "overlayDiv", doNothing);
            pds.update(section, progress);
       }
</script>

</body>
</html>
</body>
